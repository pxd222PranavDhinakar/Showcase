<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/prismjs/themes/prism.css">
    <script src="https://unpkg.com/prismjs/prism.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 3 - Report Generation</title>
    <link rel="stylesheet" href="css/project3.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header>
        <h1>Welcome to My Project Showcase</h1>
        <nav>
            <ul>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/index.html">Home</a></li>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/project1.html">Project 1</a></li>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/project2.html">Project 2</a></li>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/project3.html">Project 3</a></li>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/project4.html">Project 4</a></li>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/project5.html">Project 5</a></li>
                <li><a href="http://eecslab-22.case.edu/~pxd222/Showcase/frontend/project6.html">Project 6</a></li>
            </ul>
        </nav>
    </header>

    <section>
        <h2>Project 3: Report Generation</h2>
        <p>This project demonstrates a report generation script. It generates a report for the directory it is residing in. Click the button below to generate the report:</p>
        <button id="runProject3">Generate Report</button>
        <div id="result">
            <strong>Generated Report:</strong><br>
            <div class="content" style="background-color: #f4f4f4; color: #333; padding: 10px; border-radius: 5px; overflow: auto;"></div>
        </div>             
    </section>    

    <footer>
        <!-- Your footer content here -->
    </footer>

    <script>
        $(document).ready(function() {
            $('#runProject3').on('click', function() {
                $.ajax({
                    url: 'http://eecslab-22.case.edu/~pxd222/Showcase/backend/project3.php',
                    type: 'GET',
                    dataType: 'json',
                    success: function(response) {
                        if (response.data) {
                            var converter = new showdown.Converter({
                                tables: true,
                                simplifiedAutoLink: true,
                                strikethrough: true,
                                tasklists: true
                            });                            
                            var html = converter.makeHtml(response.data);
                            $('#result .content').html(html);
                        } else {
                            $('#result .content').html('No data to display.');
                        }
                    },
                    error: function(xhr, status, error) {
                        $('#result .content').html('Error loading data: ' + error);
                    }
                });
            });
        });                      
    </script>
</body>
</html>
